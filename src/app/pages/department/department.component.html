<div class="flex items-center mb-4 md:hidden">
  <h1 class="text-2xl font-medium text-fuchsia-950 flex items-center">
    Department
  </h1>
</div>

<div class="w-full grid grid-cols-1 lg:grid-cols-3 mb-4 gap-6">
  <form [formGroup]="searchForm" class="lg:col-start-2" (submit)="search()">
    <div
      class="flex w-full py-1.5 pl-3 pr-1 bg-white rounded-lg shadow-sm bg-opacity-50 text-gray-600"
    >
      <input
        type="text"
        class="focus:outline-none w-full"
        formControlName="name"
      />
      <button
        type="submit"
        class="bg-fuchsia-600 text-white px-4 py-2 rounded-lg hover:opacity-90 focus:outline-none focus:ring-1 focus:ring-fuchsia-500 focus:border-fuchsia-500 transition-all duration-200 font-medium shadow-lg transform hover:-translate-y-0.5"
      >
        <i class="fa-solid fa-magnifying-glass"></i>
      </button>
    </div>
  </form>
</div>

<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-4">
  <div
    class="bg-white rounded-lg shadow-sm overflow-hidden text-gray-600 transition duration-300"
  >
    <div
      class="bg-white bg-opacity-80 rounded-lg overflow-hidden max-w-2xl mx-auto animate-fade-in"
    >
      <div class="py-4 px-5">
        <form [formGroup]="createForm" (submit)="create()">
          <div class="mb-4">
            <label
              for="name"
              class="block text-sm font-medium mb-2 text-gray-600"
              >Name</label
            >
            <div class="relative">
              <input
                type="text"
                id="name"
                formControlName="name"
                class="w-full px-3 py-3 bg-gray-50 bg-opacity-50 border border-fuchsia-200 text-gray-600 rounded-lg focus:outline-none focus:ring-1 focus:ring-fuchsia-500 focus:border-fuchsia-500 transition-all duration-200"
                placeholder="e.g. IT"
              />
              @if(nameError){
              <p class="text-rose-700 text-sm mt-1">{{ nameError }}</p>
              }
            </div>
          </div>
          <div class="mb-4">
            <label
              for="name"
              class="block text-sm font-medium mb-2 text-gray-600"
              >Description</label
            >
            <div class="relative">
              <textarea
                rows="1"
                id="description"
                formControlName="description"
                class="w-full px-3 py-3 bg-gray-50 bg-opacity-50 border border-fuchsia-200 text-gray-600 rounded-lg focus:outline-none focus:ring-1 focus:ring-fuchsia-500 focus:border-fuchsia-500 transition-all duration-200"
                placeholder="e.g. Information Technology"
              ></textarea>
              @if(descriptionError){
              <p class="text-rose-700 text-sm">{{ descriptionError }}</p>
              }
            </div>
          </div>
          <div class="flex justify-end space-x-4">
            <button
              type="button"
              (click)="cancel()"
              class="px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 focus:ring-offset-gray-800 transition-all duration-200 flex items-center shadow-md"
            >
              Cancel
            </button>
            <button
              type="submit"
              class="bg-fuchsia-600 text-white px-4 py-2 rounded-lg hover:opacity-90 focus:outline-none focus:ring-1 focus:ring-fuchsia-500 focus:border-fuchsia-500 transition-all duration-200 font-medium shadow-lg transform hover:-translate-y-0.5"
            >
              Create Department
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  @for (department of departments; track department.id){
  <app-department-item
    [department]="department"
    (remove)="delete(department)"
    (updated)="update($event)"
  />
  }
</div>

<router-outlet />
